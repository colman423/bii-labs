!function(a,r){var d=a(r);function n(o,t){var i=a(o),e=o.getContext("2d"),n={star:{color:"rgba(255, 255, 255, .5)",width:1,randomWidth:!0},line:{color:"rgba(255, 255, 255, .5)",width:.2},position:{x:0,y:0},width:r.innerWidth,height:r.innerHeight,velocity:.1,length:100,distance:120,radius:150,stars:[]},h=a.extend(!0,{},n,t);function s(){this.x=Math.random()*o.width,this.y=Math.random()*o.height,this.vx=h.velocity*(Math.random()-1),this.vy=h.velocity*(Math.random()-1),this.radius=h.star.randomWidth?Math.random()*h.star.width:h.star.width}s.prototype={create:function(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()},animate:function(){var t;for(t=0;t<h.length;t++){var i=h.stars[t];i.y<0||i.y>o.height?(i.vx=i.vx,i.vy=-i.vy):(i.x<0||i.x>o.width)&&(i.vx=-i.vx,i.vy=i.vy),i.x+=i.vx,i.y+=i.vy}},line:function(){var t,i,n,o,s=h.length;for(n=0;n<s;n++)for(o=0;o<s;o++)t=h.stars[n],i=h.stars[o],t.x-i.x<h.distance&&t.y-i.y<h.distance&&t.x-i.x>-h.distance&&t.y-i.y>-h.distance&&t.x-h.position.x<h.radius&&t.y-h.position.y<h.radius&&t.x-h.position.x>-h.radius&&t.y-h.position.y>-h.radius&&(e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.stroke(),e.closePath())}},this.createStars=function(){var t,i,n=h.length;for(e.clearRect(0,0,o.width,o.height),i=0;i<n;i++)h.stars.push(new s),(t=h.stars[i]).create();t.line(),t.animate()},this.setCanvas=function(){o.width=h.width,o.height=h.height},this.setContext=function(){e.fillStyle=h.star.color,e.strokeStyle=h.line.color,e.lineWidth=h.line.width},this.setInitialPosition=function(){t&&t.hasOwnProperty("position")||(h.position={x:.5*o.width,y:.5*o.height})},this.loop=function(t){t(),this.rAF=r.requestAnimationFrame(function(){this.loop(t)}.bind(this))},this.handlers={window:{mousemove:function(t){h.position.x=t.pageX-i.offset().left,h.position.y=t.pageY-i.offset().top},resize:function(){r.cancelAnimationFrame(this.rAF)}}},this.bind=function(){d.on("mousemove",this.handlers.window.mousemove).on("resize",this.handlers.window.resize.bind(this))},this.unbind=function(){d.off("mousemove",this.handlers.window.mousemove).off("resize",this.handlers.window.resize)},this.init=function(){this.setCanvas(),this.setContext(),this.setInitialPosition(),this.loop(this.createStars),this.bind()}}function i(t,i){new n(t,i).init()}a.fn.constellation=function(t){return this.each(function(){d.on("resize",function(){i(this,t)}),i(this,t)})}}($,window);